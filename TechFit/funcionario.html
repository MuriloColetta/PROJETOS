<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="ICONES/icone.png" type="image/x-icon">
  <title>Painel Administrativo - TechFit</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
body {
    background-color: rgb(22, 22, 22);
    color: white;
    padding: 40px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

header img {
    display: block;
    margin: 0 auto;
    width: 250px;
    height: auto;
}

header h1 {
    text-align: center;
    color: white;
    margin-bottom: 30px;
}

.bandeira {
  background-color: red;
  color: white;
  display: inline-flex;
  padding: 10px 30px;
  transform: skew(-30deg);
  margin-bottom: 20px;
}

.bandeira h1, .bandeira h2 {
  transform: skew(30deg);
  margin: 0;
  font-size: 2.5em;
}

.nav-link {
    color: red;
    font-weight: bold;
}

.nav-link:hover{
    color: red;
}

.nav-link:active {
    background-color: red;
    color: white;
}

.tab-pane {
    display: flex;
    flex-direction: column;
    align-items: center;
}

form {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 70%;
    height: auto;
    border-radius: 14px;
    padding: 20px;
    box-sizing: border-box;
}

form h4 {
    margin: 10px;
    color: white;
}

form input, form select {
    background-color: #242424;
    color: white;
    width: 100%;
    border: none;
    border-radius: 14px;
    padding: 12px;
    margin: 10px 0;
    gap: 10px;
}

form button {
    background-color: red;
    color: white;
    width: 100%;
    border: none;
    border-radius: 14px;
    padding: 10px;
    margin: 10px 0;
    font-weight: bold;
    cursor: pointer;
    transition: transform 0.5s, background-color 0.5s;
}

form button:hover {
    background-color: rgb(255, 48, 48);
    transform: scale(1.05);
}

form button:active {
    transform: scale(0.95);
}

table {
    color: white;
    text-align: center;
}

.btn-danger {
    background-color: red;
    border: none;
    transition: 0.3s;
}

.btn-danger:hover {
    background-color: rgb(255, 48, 48);
    transform: scale(1.05);
}

.btn-warning {
    color: black;
    font-weight: bold;
    border: none;
    transition: 0.3s;
}

.btn-warning:hover {
    transform: scale(1.05);
}

.botoes {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-top: 20px;
}

.vazio {
    text-align: center;
    margin-top: 50px;
    color: gray;
}

/* Sistema de Notificações */
.notification-toast {
  position: fixed;
  top: 20px;
  right: 20px;
  min-width: 300px;
  max-width: 500px;
  padding: 15px 20px;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  z-index: 10000;
  opacity: 0;
  transform: translateX(400px);
  transition: all 0.3s ease;
}

.notification-toast.show {
  opacity: 1;
  transform: translateX(0);
}

.notification-success {
  background-color: #28a745;
  color: white;
}

.notification-error {
  background-color: #dc3545;
  color: white;
}

.notification-info {
  background-color: #17a2b8;
  color: white;
}

.notification-warning {
  background-color: #ffc107;
  color: #000;
}

.notification-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 15px;
}

.notification-message {
  flex: 1;
  font-weight: 500;
}

.notification-close {
  background: none;
  border: none;
  color: inherit;
  font-size: 24px;
  cursor: pointer;
  padding: 0;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0.8;
  transition: opacity 0.2s;
}

.notification-close:hover {
  opacity: 1;
}

.modal-content.bg-dark {
  background-color: #1a1a1a !important;
  border: 1px solid #333;
}

.modal-content.bg-dark .form-control {
  background-color: #242424;
  color: white;
  border: 1px solid #444;
}

.modal-content.bg-dark .form-control:focus {
  background-color: #242424;
  color: white;
  border-color: red;
  box-shadow: 0 0 0 0.2rem rgba(255, 0, 0, 0.25);
}
  </style>
</head>
<body>
  <header>
    <img src="IMG/logo.png">
    <div class="bandeira">
      <h1>Painel Administrativo</h1>
    </div>
  </header>

  <main class="container py-4">
    <!-- ======== Abas ======== -->
    <ul class="nav nav-tabs justify-content-center" id="painelAbas" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active" id="clientes-tab" data-bs-toggle="tab" data-bs-target="#clientes" type="button" role="tab">Clientes</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="funcionarios-tab" data-bs-toggle="tab" data-bs-target="#funcionarios" type="button" role="tab">Funcionários</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="agendamento-aulas-tab" data-bs-toggle="tab" data-bs-target="#agendamento-aulas" type="button" role="tab">Agendamento de Aula</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="avaliacoes-tab" data-bs-toggle="tab" data-bs-target="#avaliacoes" type="button" role="tab">Avaliações</button>
      </li>
    </ul>

    <!-- ======== Conteúdo das Abas ======== -->
    <div class="tab-content mt-4" id="painelAbasConteudo">
      <!-- ======== CLIENTES ======== -->
      <div class="tab-pane fade show active" id="clientes" role="tabpanel">
        <form id="form-cadastro-cliente" onsubmit="event.preventDefault(); Controller.cadastrarCliente();" class="row g-3 mb-4">
          <h4>Cadastrar de Cliente</h4>
          <div class="col-md-3">
            <input type="text" id="nome-cliente-admin" name="nome" placeholder="Nome completo" required>
          </div>
          <div class="col-md-3">
            <input type="text" id="cpf-cliente-admin" name="cpf" placeholder="CPF" required>
          </div>
          <div class="col-md-3">
            <input type="date" id="data-nasc-cliente-admin" name="data_nasc" required>
          </div>
          <div class="col-md-3">
            <input type="email" id="email-cliente-admin" name="email" placeholder="Email" required>
          </div>
          <div class="col-md-3">
            <input type="text" id="telefone-cliente-admin" name="telefone" placeholder="Telefone" required>
          </div>
          <div class="col-md-3">
            <input type="text" id="senha-cliente-admin" name="senha" placeholder="Senha" required>
          </div>
          <div class="col-md-2">
            <button type="submit">Cadastrar</button>
          </div>
        </form>

        <form action="" method="POST" class="busca">
          <input type="text" name="buscar_cliente" placeholder="Buscar cliente por nome:">
          <button type="submit">Buscar</button>
        </form>

        <h4>Clientes Registrados</h4>
        <table class="table table-striped table-dark table-bordered align-middle mt-3">
          <thead>
            <tr>
              <th>#</th>
              <th>Nome</th>
              <th>CPF</th>
              <th>Data de nascimento</th>
              <th>Email</th>
              <th>Telefone</th>
              <th>Senha</th>
              <th>Ações</th>
            </tr>
          </thead>
          <tbody id="tbody-clientes">
            <!-- Dados serão carregados dinamicamente -->
          </tbody>
        </table>
      </div>

      <!-- ======== FUNCIONÁRIOS ======== -->
      <div class="tab-pane fade" id="funcionarios" role="tabpanel">
        <form id="form-cadastro-funcionario" onsubmit="event.preventDefault(); Controller.cadastrarFuncionario();" class="row g-3 mb-4">
          <h4>Cadastrar Funcionário</h4>
          <div class="col-md-3">
            <input type="text" id="nome-funcionario-admin" name="nome" placeholder="Nome completo" required>
          </div>
          <div class="col-md-3">
            <input type="text" id="cpf-funcionario-admin" name="cpf" placeholder="CPF" required>
          </div>
          <div class="col-md-3">
            <input type="email" id="email-funcionario-admin" name="email" placeholder="Email" required>
          </div>
          <div class="col-md-3">
            <input type="text" id="telefone-funcionario-admin" name="telefone" placeholder="Telefone" required>
          </div>
          <div class="col-md-2">
            <select id="cargo-funcionario-admin" name="cargo" required>
              <option value="" disabled selected>Cargo</option>
              <option value="Instrutor">Instrutor</option>
              <option value="Recepcionista">Recepcionista</option>
              <option value="Gerente">Gerente</option>
              <option value="Avaliador">Avaliador</option>
            </select>
          </div>
          <div class="col-md-2">
            <input type="number" id="salario-funcionario-admin" name="salario" placeholder="Salário" step="0.01" required>
          </div>
          <div class="col-md-2">
            <input type="number" id="carga-horaria-funcionario-admin" name="carga_horaria" placeholder="Carga horária/dia" required>
          </div>
          <div class="col-md-3">
            <input type="text" id="senha-funcionario-admin" name="senha" placeholder="Senha" required>
          </div>
          <div class="col-md-2">
            <button type="submit">Cadastrar</button>
          </div>
        </form>

        <h4>Funcionários Registrados</h4>
        <table class="table table-striped table-dark table-bordered align-middle mt-3">
          <thead>
            <tr>
              <th>#</th>
              <th>Nome</th>
              <th>CPF</th>
              <th>Email</th>
              <th>Telefone</th>
              <th>Cargo</th>
              <th>Salário (R$)</th>
              <th>Carga-horária/dia (horas)</th>
              <th>Senha</th>
              <th>Ações</th>
            </tr>
          </thead>
          <tbody id="tbody-funcionarios">
            <!-- Dados serão carregados dinamicamente -->
          </tbody>
        </table>
      </div>

      <!-- ======== AGENDAMENTO DE AULAS ======== -->
      <div class="tab-pane fade" id="agendamento-aulas" role="tabpanel">
        <form id="form-cadastro-agendamento-aula" onsubmit="event.preventDefault(); Controller.cadastrarAgendamentoAula();" class="row g-3 mb-4">
        <h4>Cadastrar Agendamento de Aula</h4>
          <div class="col-md-4">
            <input type="text" id="nome-agendamento-aula" name="nome" placeholder="Nome do cliente" required>
          </div>
          <div class="col-md-3">
            <input type="text" id="modalidade-agendamento-aula" name="modalidade" placeholder="Modalidade" required>
          </div>
          <div class="col-md-3">
            <input type="text" id="horario-agendamento-aula" name="horario" placeholder="Horário" required>
          </div>
          <div class="col-md-2">
            <button type="submit">Cadastrar</button>
          </div>
        </form>

        <form action="" method="POST" class="busca">
          <input type="text" name="buscar_agendamento" placeholder="Buscar agendamento de aula por id do cliente:">
          <button type="submit">Buscar</button>
        </form>

        <h4>Agendamentos de aulas</h4>
        <table class="table table-striped table-dark table-bordered align-middle mt-3">
          <thead>
            <tr>
              <th>#</th>
              <th>Nome Cliente</th>
              <th>Modalidade</th>
              <th>Horário</th>
              <th>Data Agendamento</th>
              <th>Status</th>
              <th>Ações</th>
            </tr>
          </thead>
          <tbody id="tbody-agendamentos-aulas">
            <!-- Dados serão carregados dinamicamente -->
          </tbody>
        </table>
      </div>

      <!-- ======== AVALIAÇÕES ======== -->
      <div class="tab-pane fade" id="avaliacoes" role="tabpanel">
        <form id="form-cadastro-avaliacao" onsubmit="event.preventDefault(); Controller.cadastrarAvaliacao();" class="row g-3 mb-4">
        <h4>Cadastrar Avaliação</h4>
          <div class="col-md-3">
            <input type="text" id="nome-avaliacao-admin" name="nome" placeholder="Nome do cliente" required>
          </div>
          <div class="col-md-2">
            <input type="text" id="peso-avaliacao-admin" name="peso" placeholder="Peso (kg)" required>
          </div>
          <div class="col-md-2">
            <input type="text" id="altura-avaliacao-admin" name="altura" placeholder="Altura (m)" required>
          </div>
          <div class="col-md-3">
            <input type="date" id="data-avaliacao-admin" name="data_avaliacao" required>
          </div>
          <div class="col-md-2">
            <button type="submit">Cadastrar</button>
          </div>
        </form>

        <form action="" method="POST"  class="row g-3 mb-4">
          <div class="col-md-5">
            <input type="text" name="buscar" placeholder="Buscar treino por id do cliente" required>
          </div>
          <div class="col-md-2">
            <button type="submit">Buscar</button>
          </div>
        </form>

        <h4>Avaliações Físicas</h4>
        <table class="table table-striped table-dark table-bordered align-middle mt-3">
          <thead>
            <tr>
              <th>#</th>
              <th>Nome Cliente</th>
              <th>Peso (kg)</th>
              <th>Altura (m)</th>
              <th>Data Agendamento</th>
              <th>Data Avaliação</th>
              <th>Ações</th>
            </tr>
          </thead>
          <tbody id="tbody-avaliacoes">
            <!-- Dados serão carregados dinamicamente -->
          </tbody>
        </table>
      </div>

    <div class="text-center mt-4">
      <a href="index.html" class="btn btn-danger">Voltar ao site</a>
    </div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
  <!-- Arquivos MVC -->
  <script src="js/Notification.js"></script>
  <script src="js/Model.js"></script>
  <script src="js/View.js"></script>
  <script src="js/Controller.js"></script>
  <script>
    // Inicialização quando a página carregar
    document.addEventListener('DOMContentLoaded', function() {
      Controller.carregarClientes();
      Controller.carregarFuncionarios();
      Controller.carregarAgendamentosAulas();
      Controller.carregarAvaliacoes();
      
      // Recarregar quando mudar de aba
      const tabs = document.querySelectorAll('[data-bs-toggle="tab"]');
      tabs.forEach(tab => {
        tab.addEventListener('shown.bs.tab', function(event) {
          const targetId = event.target.getAttribute('data-bs-target');
          if (targetId === '#clientes') {
            Controller.carregarClientes();
          } else if (targetId === '#funcionarios') {
            Controller.carregarFuncionarios();
          } else if (targetId === '#agendamento-aulas') {
            Controller.carregarAgendamentosAulas();
          } else if (targetId === '#avaliacoes') {
            Controller.carregarAvaliacoes();
          }
        });
      });
    });
  </script>
</body>
</html>
